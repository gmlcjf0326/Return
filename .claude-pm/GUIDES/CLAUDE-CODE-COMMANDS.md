# ⚡ Claude Code 명령어 & 기능 가이드

> Claude Code의 기능을 최대한 활용하여 효율적으로 작업합니다

---

## 🎮 기본 명령어

### 프로젝트 관리

| 명령어 | 설명 | 사용 시점 |
|--------|------|----------|
| `/init` | 프로젝트 초기화, CLAUDE.md 생성 | 프로젝트 시작 |
| `/add [파일/폴더]` | 컨텍스트에 파일 추가 | 특정 파일 참조 필요시 |
| `/clear` | 컨텍스트 초기화 | 새 주제 시작 |
| `/compact` | 대화 내용 압축 | 긴 대화 후 |

### 코드 품질

| 명령어 | 설명 | 사용 시점 |
|--------|------|----------|
| `/review [경로]` | 코드 리뷰 요청 | 구현 완료 후 |
| `/doctor` | 프로젝트 문제 진단 | 문제 발생 시 |

### 설정 & 도구

| 명령어 | 설명 | 사용 시점 |
|--------|------|----------|
| `/config` | 설정 확인/변경 | 설정 조정 필요시 |
| `/model` | AI 모델 변경 | 다른 모델 필요시 |
| `/mcp` | MCP 서버 관리 | 외부 도구 연동 |
| `/memory` | 메모리 관리 | 컨텍스트 확인 |

### 정보

| 명령어 | 설명 | 사용 시점 |
|--------|------|----------|
| `/cost` | 토큰 사용량/비용 확인 | 비용 체크 |
| `/help` | 도움말 | 명령어 확인 |

---

## 📋 명령어 활용 시나리오

### 시나리오 1: 프로젝트 시작

```bash
# 1. 프로젝트 초기화
> /init

# 2. 프로젝트 설명
> 쇼핑몰 백엔드를 만들 거야. Node.js + PostgreSQL 사용할 거고...

# 3. MCP 연결 확인
> /mcp

# 4. 필요한 MCP 있으면 연결
> postgres MCP 연결해줘
```

### 시나리오 2: 코드 리뷰

```bash
# 1. 특정 파일 리뷰
> /review src/services/authService.js

# 2. 폴더 전체 리뷰
> /review src/controllers/

# 3. 리뷰 결과 반영
> 리뷰에서 지적한 부분 수정해줘
```

### 시나리오 3: 긴 작업 후 정리

```bash
# 1. 현재 컨텍스트 확인
> /memory

# 2. 대화 압축 (토큰 절약)
> /compact

# 3. 필요한 파일만 다시 추가
> /add src/models/ src/services/
```

### 시나리오 4: 문제 해결

```bash
# 1. 프로젝트 진단
> /doctor

# 2. 문제 확인 후 해결
> 에러가 발생해: [에러 메시지]

# 3. 관련 파일 추가해서 분석
> /add src/config/database.js
```

### 시나리오 5: 비용 관리

```bash
# 1. 현재 비용 확인
> /cost

# 2. 컨텍스트 줄이기
> /clear

# 3. 필요한 것만 다시
> /add CLAUDE.md docs/PROGRESS.md
```

---

## 🔌 MCP 활용

### MCP 서버 목록

```bash
# 현재 연결된 MCP 확인
> /mcp

# 사용 가능한 MCP 서버들:
- filesystem: 파일 시스템 접근
- github: GitHub API 연동
- postgres: PostgreSQL 직접 쿼리
- sqlite: SQLite DB 접근
- puppeteer: 브라우저 자동화
- slack: Slack 메시지
- fetch: HTTP 요청
```

### MCP 활용 예시

```bash
# PostgreSQL MCP로 직접 쿼리
> users 테이블에서 최근 가입자 10명 조회해줘

# GitHub MCP로 이슈 생성
> 이 버그에 대한 GitHub 이슈 만들어줘

# Puppeteer MCP로 스크린샷
> 메인 페이지 스크린샷 찍어줘
```

### CLAUDE.md에 MCP 정보 기록

```markdown
## 🔌 활성화된 MCP

| MCP | 용도 | 연결 상태 |
|-----|------|----------|
| filesystem | 파일 관리 | ✅ 연결됨 |
| postgres | DB 쿼리 | ✅ 연결됨 |
| github | PR/이슈 | ⚠️ 토큰 필요 |

## MCP 사용 규칙
- DB 변경 전 확인 받기
- 프로덕션 DB 직접 수정 금지
```

---

## 🎯 효율적인 대화 패턴

### 1. 컨텍스트 명확히

```bash
# ❌ Bad
> 이거 수정해줘

# ✅ Good
> src/services/userService.js의 validateEmail 함수에서 
> 도메인 체크 로직 추가해줘
```

### 2. 한 번에 하나씩

```bash
# ❌ Bad
> 로그인 API 만들고, 상품 API도 만들고, 
> 테스트도 작성하고, 배포도 해줘

# ✅ Good
> 먼저 로그인 API 만들어줘
> (완료 후)
> 테스트 코드 작성해줘
```

### 3. 결과 확인

```bash
# 작업 후 확인
> 방금 만든 API curl로 테스트할 수 있는 명령어 줘

# 문제 있으면 구체적으로
> 이 에러 발생해: [에러 메시지 복붙]
```

### 4. 파일 참조

```bash
# 파일 내용 보면서 작업
> /add src/models/User.js
> 이 모델 기반으로 UserService 만들어줘

# 여러 파일 참조
> /add src/services/ src/controllers/
> services 패턴 참고해서 새 컨트롤러 만들어줘
```

---

## 📁 CLAUDE.md 자동 업데이트

### Claude Code가 자동으로 해야 할 것

```markdown
## CLAUDE.md 업데이트 규칙

### 세션 시작 시
- 현재 상태 확인
- 마지막 작업 파악

### 작업 중
- 중요 결정 기록
- 블로커 발생 시 기록
- 아키텍처 변경 시 기록

### 세션 종료 전
- 현재 진행 상황 업데이트
- 다음 할 일 기록
- 미해결 이슈 기록
```

### 업데이트 예시

```markdown
## 현재 상태
- 진행률: 45%
- 현재: TASK-007 결제 API
- 상태: 토스페이먼츠 연동 중

## 마지막 세션 (2026-01-11)
- 완료: 장바구니 API, 주문 API
- 진행: 결제 API 시작
- 이슈: 토스 테스트 키 필요

## 다음 할 일
1. 결제 API 완성
2. 프론트엔드 결제 페이지
3. 결제 확인 웹훅
```

---

## ⚡ 단축키 & 팁

### 자주 쓰는 패턴

```bash
# 빠른 파일 생성
> src/services/paymentService.js 만들어줘

# 빠른 테스트
> 방금 만든 함수 테스트 코드 작성해줘

# 빠른 수정
> 이 함수에서 에러 핸들링 추가해줘

# 빠른 문서화
> 이 API 문서화해줘 (요청/응답 예시 포함)
```

### 컨텍스트 절약

```bash
# 필요할 때만 파일 추가
> /add 특정파일.js  (전체 폴더 대신)

# 긴 작업 후 정리
> /compact

# 새 주제면 초기화
> /clear
```

### 문제 해결

```bash
# 에러 분석
> 이 에러 왜 발생해? [에러 메시지]

# 디버깅
> 이 함수 실행 과정 단계별로 설명해줘

# 성능
> 이 쿼리 왜 느린지 분석해줘
```

---

## 📊 세션 관리

### 긴 세션 관리

```bash
# 1. 주기적으로 압축
> /compact

# 2. 진행상황 저장
> PROGRESS.md 업데이트해줘

# 3. 컨텍스트 확인
> /memory

# 4. 필요시 정리
> /clear
> /add CLAUDE.md docs/PROGRESS.md
```

### 세션 종료 전

```bash
# 1. 상태 저장
> CLAUDE.md에 현재 상태 업데이트해줘

# 2. 다음 할 일 기록
> 다음에 이어서 할 내용 정리해줘

# 3. 미완성 작업 기록
> 현재 진행 중인 작업 상세히 기록해줘
```

---

## 🎯 권장 워크플로우

```
1️⃣ 시작
   /init → CLAUDE.md 확인 → 현재 상태 파악

2️⃣ 계획
   요구사항 논의 → 설계 확정 → 태스크 분해

3️⃣ 구현
   한 태스크씩 → /review → 테스트 → 다음

4️⃣ 중간
   /compact (필요시) → PROGRESS.md 업데이트

5️⃣ 종료
   CLAUDE.md 업데이트 → 다음 할 일 기록
```
