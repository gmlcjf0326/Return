# ReMemory ê°œë°œ ì§„í–‰ ê¸°ë¡

> AI ê¸°ë°˜ íšŒìƒì¹˜ë£Œ í”Œë«í¼ ê°œë°œ íˆìŠ¤í† ë¦¬

---

## ì§„í–‰ ìƒíƒœ ìš”ì•½

| Phase | ìƒíƒœ | ì™„ë£Œì¼ |
|-------|------|--------|
| Phase 1: ê¸°ë°˜ êµ¬ì¶• | âœ… ì™„ë£Œ | 2025-01-14 |
| Phase 2: ì§„ë‹¨ ëª¨ë“ˆ | ğŸš§ ì§„í–‰ ì¤‘ | - |
| Phase 3: ì‚¬ì§„ íƒœê¹… + íšŒìƒ | â³ ëŒ€ê¸° | - |
| Phase 4: í›ˆë ¨ ëª¨ë“ˆ | â³ ëŒ€ê¸° | - |
| Phase 5: ë¶„ì„ + ë°°í¬ | â³ ëŒ€ê¸° | - |

---

## Phase 1: ê¸°ë°˜ êµ¬ì¶• âœ…

### ì™„ë£Œì¼: 2025-01-14

### TASK-001: í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì • âœ…
**ì™„ë£Œ ì‹œê°**: 2025-01-14

**ì‚°ì¶œë¬¼**:
- Next.js 16 + TypeScript + TailwindCSS 4 í”„ë¡œì íŠ¸
- í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì™„ë£Œ
  - @supabase/supabase-js, prisma@5, @prisma/client@5
  - zustand, openai, uuid

**íŒŒì¼ êµ¬ì¡°**:
```
rememory/
â”œâ”€â”€ src/app/
â”œâ”€â”€ src/components/
â”œâ”€â”€ src/hooks/
â”œâ”€â”€ src/lib/
â”œâ”€â”€ src/store/
â”œâ”€â”€ src/types/
â”œâ”€â”€ prisma/
â””â”€â”€ public/
```

---

### TASK-002: ì„¸ì…˜ ì‹œìŠ¤í…œ âœ…
**ì™„ë£Œ ì‹œê°**: 2025-01-14

**ì‚°ì¶œë¬¼**:
- `src/store/sessionStore.ts` - Zustand ì„¸ì…˜ ê´€ë¦¬ + LocalStorage persist
- `src/app/api/session/create/route.ts` - POST ì„¸ì…˜ ìƒì„± API
- `src/app/api/session/[id]/route.ts` - GET/PATCH ì„¸ì…˜ ì¡°íšŒ/ì—…ë°ì´íŠ¸ API

**ì£¼ìš” ê¸°ëŠ¥**:
- UUID ê¸°ë°˜ ì„¸ì…˜ ìë™ ìƒì„±
- LocalStorage ì˜ì†í™” (ì¬ë°©ë¬¸ ì‹œ ì„¸ì…˜ ìœ ì§€)
- ì„œë²„ DB ë™ê¸°í™”

---

### TASK-003: ì „ë¬¸ ì˜ë£Œê¸°ê´€ ìŠ¤íƒ€ì¼ UI ì‹œìŠ¤í…œ âœ…
**ì™„ë£Œ ì‹œê°**: 2025-01-14

**ì‚°ì¶œë¬¼**:
| ì»´í¬ë„ŒíŠ¸ | íŒŒì¼ | ê¸°ëŠ¥ |
|---------|------|------|
| Button | `src/components/ui/Button.tsx` | 5ê°€ì§€ variant, 4ê°€ì§€ size |
| Card | `src/components/ui/Card.tsx` | Card, CardHeader, CardContent, CardFooter |
| DataPanel | `src/components/ui/DataPanel.tsx` | ì˜ë£Œê¸°ê¸° ìŠ¤íƒ€ì¼ ìˆ˜ì¹˜ í‘œì‹œ |
| ProgressBar | `src/components/ui/ProgressBar.tsx` | ì§„í–‰ë¥  í‘œì‹œ |
| StatusBadge | `src/components/ui/StatusBadge.tsx` | ìƒíƒœ ë°°ì§€ (6ê°€ì§€ ìƒíƒœ) |

**ë””ìì¸ ì‹œìŠ¤í…œ**:
- Medical Blue ìƒ‰ìƒ íŒ”ë ˆíŠ¸ (#1E40AF, #3B82F6, #60A5FA)
- Pretendard í°íŠ¸
- CSS ë³€ìˆ˜ ê¸°ë°˜ í…Œë§ˆ

---

### TASK-004: DB ìŠ¤í‚¤ë§ˆ ë° Prisma ëª¨ë¸ âœ…
**ì™„ë£Œ ì‹œê°**: 2025-01-14

**ì‚°ì¶œë¬¼**:
- `prisma/schema.prisma` - 5ê°œ í…Œì´ë¸” ì •ì˜

**í…Œì´ë¸” êµ¬ì¡°**:
| í…Œì´ë¸” | ìš©ë„ |
|--------|------|
| Session | ì‚¬ìš©ì ì„¸ì…˜ (ì¸ì¦ ëŒ€ì²´) |
| Assessment | ì¸ì§€ ì§„ë‹¨ ê²°ê³¼ |
| TrainingSession | í›ˆë ¨ ê¸°ë¡ |
| Photo | ì‚¬ì§„ + AI íƒœê¹… |
| ReminiscenceLog | íšŒìƒ ëŒ€í™” ê¸°ë¡ |

---

## Phase 2: ì§„ë‹¨ ëª¨ë“ˆ ğŸš§

### ì‹œì‘ì¼: 2025-01-14

### TASK-005: ì¸ì§€ í‰ê°€ ë¬¸í•­ ì„¤ê³„ âœ…
**ì™„ë£Œ ì‹œê°**: 2025-01-14

**ì‚°ì¶œë¬¼**:
- `src/data/assessment-questions.ts` - 30ê°œ ë¬¸í•­ ë°ì´í„° (6ê°œ ì˜ì—­ Ã— 5ë¬¸í•­)
- `src/lib/scoring.ts` - ì ìˆ˜ ê³„ì‚° ë¡œì§ ë° ìœ„í—˜ë„ íŒì •

**ë¬¸í•­ êµ¬ì„±**:
| ì˜ì—­ | ë¬¸í•­ ìˆ˜ | ë°°ì  | ë¬¸í•­ ìœ í˜• |
|------|---------|------|----------|
| ê¸°ì–µë ¥ (memory) | 5 | 20ì  | ë‹¨ì–´ íšŒìƒ, ì´ë¯¸ì§€ ê¸°ì–µ |
| ì–¸ì–´ë ¥ (language) | 5 | 20ì  | ë¬¸ì¥ ì™„ì„±, ë‹¨ì–´ ì—°ìƒ |
| ê³„ì‚°ë ¥ (calculation) | 5 | 15ì  | ì‚¬ì¹™ì—°ì‚°, ìˆ«ì íŒ¨í„´ |
| ì£¼ì˜ë ¥ (attention) | 5 | 15ì  | ë°˜ì‘ ì†ë„, ì—°ì† ê³¼ì œ |
| ì‹¤í–‰ê¸°ëŠ¥ (executive) | 5 | 15ì  | ìˆœì„œ ë°°ì—´, ê³„íš ê³¼ì œ |
| ì‹œê³µê°„ë ¥ (visuospatial) | 5 | 15ì  | ë„í˜• ì¸ì‹, íŒ¨í„´ ë§¤ì¹­ |

**ì ìˆ˜ ë¡œì§**:
- ì •ë‹µ ì‹œ ê¸°ë³¸ ì ìˆ˜ ë¶€ì—¬
- ì‘ë‹µ ì‹œê°„ì— ë”°ë¥¸ ë³´ë„ˆìŠ¤/ê°ì 
  - ì œí•œì‹œê°„ 50% ì´ë‚´: +10% ë³´ë„ˆìŠ¤
  - ì œí•œì‹œê°„ ì´ˆê³¼: -50% ê°ì 

---

### TASK-006: ì¸ì§€ í‰ê°€ UI êµ¬í˜„ âœ…
**ì™„ë£Œ ì‹œê°**: 2025-01-14

**ì‚°ì¶œë¬¼**:
| íŒŒì¼ | ê¸°ëŠ¥ |
|------|------|
| `src/components/assessment/Timer.tsx` | íƒ€ì´ë¨¸ ì»´í¬ë„ŒíŠ¸ (ê²½ê³  ì„ê³„ê°’, ì§„í–‰ ë°”) |
| `src/components/assessment/AssessmentProgress.tsx` | ì§„í–‰ë¥  í‘œì‹œ (ì¹´í…Œê³ ë¦¬ë³„ ì¸ë””ì¼€ì´í„°) |
| `src/components/assessment/AnswerInput.tsx` | ë‹µë³€ ì…ë ¥ (ê°ê´€ì‹, ì£¼ê´€ì‹, ìˆœì„œ ë°°ì—´) |
| `src/components/assessment/QuestionCard.tsx` | ë¬¸í•­ ì¹´ë“œ (ë‚œì´ë„, íƒ€ì´ë¨¸ í†µí•©) |
| `src/components/assessment/index.ts` | barrel export |
| `src/app/assessment/page.tsx` | ì§„ë‹¨ ì‹œì‘/ì§„í–‰ í˜ì´ì§€ |
| `src/app/assessment/result/page.tsx` | ê²°ê³¼ í˜ì´ì§€ |

**API Routes**:
| ì—”ë“œí¬ì¸íŠ¸ | ë©”ì„œë“œ | ê¸°ëŠ¥ |
|-----------|--------|------|
| `/api/assessment/submit` | POST | ê²°ê³¼ ì €ì¥ |
| `/api/assessment/analyze` | POST | AI ë¶„ì„ (ì¸ì‚¬ì´íŠ¸ ìƒì„±) |
| `/api/assessment/history` | GET | ì´ë ¥ ì¡°íšŒ |
| `/api/assessment/[id]` | GET/DELETE | ê°œë³„ ê²°ê³¼ ì¡°íšŒ/ì‚­ì œ |

**UI íŠ¹ì§•**:
- ê³ ë ¹ì ì¹œí™”ì  í° ë²„íŠ¼ (56px+)
- ì‹¤ì‹œê°„ íƒ€ì´ë¨¸ ë° ì§„í–‰ë¥  í‘œì‹œ
- ì¹´í…Œê³ ë¦¬ë³„ ì™„ë£Œ ìƒíƒœ ì¸ë””ì¼€ì´í„°
- ìœ„í—˜ë„ ìƒ‰ìƒ ì½”ë”© (ì •ìƒ/ì£¼ì˜/ê²½ê³ /ìœ„í—˜)

---

### TASK-008: ë°˜ì‘ ì¸¡ì • ì‹œìŠ¤í…œ
**ìƒíƒœ**: ë¶€ë¶„ ì™„ë£Œ (assessmentStoreì— ì´ë¯¸ êµ¬í˜„ë¨)

**ê¸°ì¡´ êµ¬í˜„**:
- `src/store/assessmentStore.ts`ì— ë°˜ì‘ ì¸¡ì • ë¡œì§ í¬í•¨
  - ì‘ë‹µ ì‹œê°„ ìë™ ì¸¡ì •
  - ë§ì„¤ì„/ìˆ˜ì • íšŸìˆ˜ ê¸°ë¡
  - ê°ì • íƒ€ì„ë¼ì¸ ê¸°ë¡

**ì¶”ê°€ êµ¬í˜„ í•„ìš”**:
- [ ] `src/hooks/useResponseTracker.ts` - ë°˜ì‘ ì¸¡ì • í›… ë¶„ë¦¬ (ì„ íƒ)

---

### TASK-010: ì ìˆ˜í™” ë° ê²°ê³¼ ëŒ€ì‹œë³´ë“œ
**ìƒíƒœ**: ë¶€ë¶„ ì™„ë£Œ

**ì™„ë£Œëœ í•­ëª©**:
- âœ… ê²°ê³¼ í˜ì´ì§€ (`/assessment/result`)
- âœ… ì˜ì—­ë³„ ì ìˆ˜ ë°” ì°¨íŠ¸
- âœ… ìœ„í—˜ë„ íŒì • ë° í‘œì‹œ
- âœ… ê°•ì /ì·¨ì•½ ì˜ì—­ ë¶„ì„
- âœ… í›ˆë ¨ ì¶”ì²œ ìƒì„±

**ì¶”ê°€ êµ¬í˜„ í•„ìš”**:
- [ ] `src/components/charts/RadarChart.tsx` - ë ˆì´ë” ì°¨íŠ¸
- [ ] ì´ë ¥ ëŒ€ë¹„ ë¹„êµ ê¸°ëŠ¥

---

## ì´ìŠˆ ë° í•´ê²° ë‚´ì—­

### Issue #001: Prisma 7 í˜¸í™˜ì„± ë¬¸ì œ
**ë°œìƒì¼**: 2025-01-14
**ë¬¸ì œ**: Prisma 7ì˜ ìƒˆë¡œìš´ ì„¤ì • ë°©ì‹ìœ¼ë¡œ ì¸í•´ `prisma generate` ì‹¤íŒ¨
**í•´ê²°**: Prisma 5ë¡œ ë‹¤ìš´ê·¸ë ˆì´ë“œ (`npm install prisma@5 @prisma/client@5`)

---

## ê¸°ìˆ  ê²°ì • ì‚¬í•­

### ADR-001: ì¸ì¦ ì—†ìŒ - ì„¸ì…˜ ê¸°ë°˜
- **ê²°ì •**: UUID ì„¸ì…˜ + LocalStorage
- **ì´ìœ **: ê³ ë ¹ì ì ‘ê·¼ì„±, POC ëª©ì 

### ADR-002: Prisma ë²„ì „
- **ê²°ì •**: Prisma 5 ì‚¬ìš©
- **ì´ìœ **: Prisma 7ì˜ breaking changes íšŒí”¼, ì•ˆì •ì„±

---

## ë‹¤ìŒ ë‹¨ê³„

1. [x] TASK-005: ë¬¸í•­ ë°ì´í„° ìƒì„± âœ…
2. [x] TASK-006: ì§„ë‹¨ UI êµ¬í˜„ âœ…
3. [ ] TASK-008: ë°˜ì‘ ì¸¡ì • í›… ë¶„ë¦¬ (ì„ íƒ)
4. [ ] TASK-010: ë ˆì´ë” ì°¨íŠ¸ ì¶”ê°€
5. [ ] Phase 3 ì‹œì‘: ì‚¬ì§„ íƒœê¹… + íšŒìƒ ëª¨ë“ˆ

---

## Hotfix 2025-01-14

### Issue #002: DB ì—°ê²° ì‹¤íŒ¨ (P5010 Error)
**ë°œìƒì¼**: 2025-01-14
**ë¬¸ì œ**: ë¡œì»¬ Prisma Postgres ì„œë²„ ì—°ê²° ì‹¤íŒ¨ (prisma dev ë¯¸ì‹¤í–‰)
**í•´ê²°**: SQLiteë¡œ ì „í™˜
- `prisma/schema.prisma`: providerë¥¼ "sqlite"ë¡œ ë³€ê²½
- `.env`: DATABASE_URLì„ "file:./dev.db"ë¡œ ë³€ê²½
- `@db.VarChar` ë“± PostgreSQL ì „ìš© ìˆ˜ì‹ì–´ ì œê±°
- `Json` íƒ€ì…ì„ `String`ìœ¼ë¡œ ë³€ê²½ (SQLite í˜¸í™˜)

### Issue #003: 404 ì—ëŸ¬ (ëˆ„ë½ëœ í˜ì´ì§€)
**ë°œìƒì¼**: 2025-01-14
**ë¬¸ì œ**: í™ˆí˜ì´ì§€ì—ì„œ ë§í¬í•˜ëŠ” Phase 3+ í˜ì´ì§€ë“¤ì´ ì—†ìŒ
**í•´ê²°**: í”Œë ˆì´ìŠ¤í™€ë” í˜ì´ì§€ ìƒì„±

**ìƒì„±ëœ íŒŒì¼**:
| ê²½ë¡œ | ì„¤ëª… |
|------|------|
| `src/app/training/page.tsx` | í›ˆë ¨ ë©”ì¸ (Phase 4 ì˜ˆì •) |
| `src/app/training/reminiscence/page.tsx` | íšŒìƒ ëŒ€í™” (Phase 3 ì˜ˆì •) |
| `src/app/photos/page.tsx` | ì‚¬ì§„ ê´€ë¦¬ (Phase 3 ì˜ˆì •) |
| `src/app/analytics/page.tsx` | ë¶„ì„ ë¦¬í¬íŠ¸ (Phase 5 ì˜ˆì •) |
| `src/app/assessment/history/page.tsx` | ì§„ë‹¨ ì´ë ¥ (ê¸°ëŠ¥ì  í˜ì´ì§€) |

### ADR-003: ê°œë°œ DB - SQLite
- **ê²°ì •**: ê°œë°œ í™˜ê²½ì—ì„œ SQLite ì‚¬ìš©
- **ì´ìœ **: ì™¸ë¶€ DB ì—°ê²° ì—†ì´ ì¦‰ì‹œ ê°œë°œ ê°€ëŠ¥
- **ë°°í¬ ì‹œ**: Supabase PostgreSQLë¡œ ì „í™˜ ì˜ˆì •
